# Wichita HVAC Pros ‚Äì Cursor Operating Charter

This document defines strict guidelines, references, and guardrails for working on the **Wichita HVAC Pros** project using Cursor. It ensures that all AI-generated actions remain aligned with our performance, styling, and SEO requirements without introducing regressions.

---

## ‚úÖ Project Identity

- **Business**: Wichita HVAC Pros
- **Industry**: HVAC (Heating, Ventilation, Air Conditioning)
- **Audience**: Homeowners in Wichita, KS
- **Style**: Clean, professional, modern, mobile-friendly
- **Goal**: Generate local leads via rank-and-rent strategy

---

## ‚úÖ DO's ‚Äî Rules to Always Follow

- ‚úÖ Use **Tailwind CSS v3+** syntax only
- ‚úÖ Use **Next.js 14 App Router** (no pages directory)
- ‚úÖ Optimize all decisions for **Lighthouse mobile scores** first
- ‚úÖ Use `next/image` with responsive settings for images
- ‚úÖ Use `<link rel="preload">`, `priority`, and `sizes` for performance only when requested
- ‚úÖ Reference these official sources:
  - Tailwind: [https://tailwindcss.com/docs](https://tailwindcss.com/docs)
  - Next.js App Router: [https://nextjs.org/docs/app](https://nextjs.org/docs/app)
  - Next.js Image Optimization: [https://nextjs.org/docs/app/building-your-application/optimizing/images](https://nextjs.org/docs/app/building-your-application/optimizing/images)
  - Font Optimization: [https://nextjs.org/docs/app/building-your-application/optimizing/fonts](https://nextjs.org/docs/app/building-your-application/optimizing/fonts)
- ‚úÖ Maintain existing SEO metadata, viewport tags, and structure
- ‚úÖ Wrap any major edits or deletions in a commit block with rationale
- ‚úÖ Confirm before deleting or refactoring any CSS, layout, or reusable components
- ‚úÖ Use the brand color palette already defined:
  - Imperial red: `#fb3640`
  - Russian violet: `#191245`
  - White: `#ffffff`
  - French gray: `#c1c8d0`
  - Cerulean: `#40798c`
- ‚úÖ Use `.webp` for all featured/hero images unless transparency is needed
- ‚úÖ Resize all homepage hero images to max **220x220px**
- ‚úÖ Compress via [Squoosh](https://squoosh.app) and preserve transparency if needed
- ‚úÖ Use the following for `<Image>`:
  ```tsx
  priority
  loading="eager"
  quality={70}
  sizes="(max-width: 768px) 100vw, 400px"
  ```
- ‚úÖ Commit only meaningful files (see Commit Workflow below)
- ‚úÖ Test on mobile, tablet, and desktop before pushing

---

## ‚ùå DON'Ts ‚Äî Forbidden Actions

- ‚ùå Do not remove `globals.css` unless explicitly told to
- ‚ùå Do not inline or remove CSS just to "optimize" without discussion
- ‚ùå Do not add 3rd-party packages or analytics
- ‚ùå Do not restructure file directories without confirmation
- ‚ùå Do not delete components, sections, or shared styles
- ‚ùå Do not assume layout changes ‚Äî always confirm before replacing components
- ‚ùå Do not change or remove Vercel deployment config
- ‚ùå Do not toggle experimental Tailwind or Next.js flags without explicit instruction
- ‚ùå Do not use `<link rel="stylesheet" media="print">` tricks that break SSR hydration
- ‚ùå Do not commit `.next/`, `.vercel/`, `.cache/`, or `.pack.gz` files

---

## ‚ö†Ô∏è Controlled Execution Rule

Do **NOT** apply any changes unless explicitly instructed with the phrase:

```txt
Cursor, apply these changes now.
```

This ensures manual review and protects against regressions.

---

## ‚úÖ Commit & Test Workflow

1. Use descriptive commit messages (e.g., `Optimize hero image load performance`)
2. Always test on `localhost:3001` before pushing
3. Use this exact command format to reset, build, and test:

```bash
# From project root
rm -r .next
npm run build
npm run dev
```

4. After confirming styling, SEO, and performance:

```bash
# Commit and push
git add .
git commit -m "Your commit message"
git push origin main
```

5. NEVER commit:

- `.next/`
- `.vercel/`
- `node_modules/`
- `.DS_Store`
- `.pack.gz`

6. Ensure `.gitignore` includes:

```
.next/
node_modules/
.vercel/
.DS_Store
.cache/
*.pack.gz
```

7. Confirm Vercel deploys successfully
8. Run PageSpeed Insight test (mobile & desktop)

---

## ü§ñ Co-Pilot Mode (AI + Cursor Review Process)

- Always submit AI-generated prompts to ChatGPT for review first
- ChatGPT will write **safe, scoped Cursor prompts** that:
  - Stay within this charter
  - Avoid layout/styling regressions
  - Don't over-optimize or break SSR
- Cursor should **not** implement changes until explicitly told:

```
Cursor, apply these changes now.
```

- ChatGPT and Cursor will work together:
  - Cursor proposes
  - ChatGPT verifies
  - You approve

Use this dual-review system to catch mistakes, stay fast, and protect the stack.

---

## ‚úÖ Summary

This operating charter is your north star for working on the Wichita HVAC Pros site. Any deviation must be confirmed manually. This protects styling, structure, performance, and SEO while still enabling flexible development.

All future prompts and AI work must adhere to these rules.
